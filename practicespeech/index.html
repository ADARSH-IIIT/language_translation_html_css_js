<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text to Speech</title>
</head>
<body>

<p id="speakText">यह एक उदाहरण का पाठ है। Click me to hear it!</p>

<script>
    const paragraph = document.getElementById('speakText');



    const speech =  window.speechSynthesis;
    speech.cancel()
    function speakContent() {

        const text = paragraph.textContent;

        if (window.speechSynthesis.speaking) {
            
            // toggle click to stop seaking 
            speech.cancel()
            return; 
        }

        // Create a new SpeechSynthesisUtterance object
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = /[अ-ह]/.test(text) ? 'hi-IN' : 'en-US';
        utterance.pitch = 1; // Default pitch
        utterance.rate = 1; // Default rate

        // Event listeners for debugging
        // utterance.onstart = () => console.log("Speech started");
        utterance.onend = () => {
                                  speech.cancel(); 
                                              }

        utterance.onerror = (event) => {
                                      speech.cancel();
                                            }

     
        speech.speak(utterance);
    }

    paragraph.addEventListener('click', speakContent);
</script>

</body>
</html>
